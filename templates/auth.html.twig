<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}My Movie App{% endblock %}</title>
        <link rel="stylesheet" href="{{ asset('css/auth.css') }}">
        {% block stylesheets %}
        {% endblock %}
    </head>
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="{{ path('movie_index') }}">Home</a></li>

                    {% if is_granted('ROLE_USER') %}
                        <li><a href="{{ path('movie_search') }}">Create Movie</a></li>
                        <li><a href="{{ path('app_logout') }}">Logout</a></li>
                    {% else %}
                        <li><a href="{{ path('app_login') }}">Login</a></li>
                        <li><a href="{{ path('app_register') }}">Register</a></li>
                    {% endif %}
                </ul>
            </nav>
        </header>

        <main>
            {# Flash messages section #}
            {% for label, messages in app.flashes %}
                <div class="flash-messages {{ label }}">
                    {% for message in messages %}
                        <p>{{ message }}</p>
                    {% endfor %}
                </div>
            {% endfor %}

            {# Main content block #}
            {% block body %}{% endblock %}
        </main>

        {% block javascripts %}
            {# Add your JavaScript files here #}
        {% endblock %}
    </body>
</html>
